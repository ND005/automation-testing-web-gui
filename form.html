<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Form - Demo App</title>
  <style>
    :root{--bg:#f8fafc;--card:#fff;--accent:#2563eb;--muted:#6b7280}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:var(--bg);color:#0f172a}
    header{background:#fff;border-bottom:1px solid #e6edf8}
    .container{max-width:980px;margin:0 auto;padding:18px}
    .nav{display:flex;gap:12px;align-items:center}
    .nav a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:8px}
    .nav a.active{background:rgba(37,99,235,0.08);color:var(--accent);font-weight:600}
    .spacer{flex:1}
    button#logoutBtn{background:#ef4444;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
    main{padding:28px}
    .card{background:var(--card);padding:20px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
    .field{margin-bottom:12px}
    input,textarea{width:100%;padding:10px;border:1px solid #e6e9ef;border-radius:8px}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a id="nav-home" class="nav-link" href="homepage.html">Home</a>
      <a id="nav-form" class="nav-link" href="form.html">Form</a>
      <a id="nav-about" class="nav-link" href="about.html">About</a>
      <div class="spacer"></div>
      <div style="display:flex;gap:12px;align-items:center">
        <div id="who" style="color:var(--muted);font-size:14px"></div>
        <button id="logoutBtn">Logout</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <h1>Sample Form</h1>
      <p>Fill and submit this simple demo form.</p>
      <form id="demoForm">
        <div class="field">
          <label for="name">Name</label>
          <input id="name" name="name" type="text" required />
        </div>
        <div class="field">
          <label for="message">Message</label>
          <textarea id="messageField" name="message" rows="4"></textarea>
        </div>
        <div class="field">
          <button type="submit" id="submitBtn">Send</button>
        </div>
        <div id="status" style="margin-top:10px;color:var(--muted)"></div>
      </form>
    </section>
  </main>

  <script>
    if (localStorage.getItem('loggedIn') !== 'true') {
      window.location.href = 'index.html';
    }
    document.getElementById('who').textContent = localStorage.getItem('username') || 'User';
    function setActive(){
      const href = location.href;
      document.querySelectorAll('.nav-link').forEach(a => a.classList.remove('active'));
      if (href.includes('homepage.html')) document.getElementById('nav-home').classList.remove('active');
      if (href.includes('form.html')) document.getElementById('nav-form').classList.add('active');
      if (href.includes('about.html')) document.getElementById('nav-about').classList.remove('active');
      // more robust highlight handled below
      document.querySelectorAll('.nav-link').forEach(a => {
        if (location.href.includes(a.getAttribute('href'))) a.classList.add('active');
      });
    }
    setActive();
    document.getElementById('logoutBtn').addEventListener('click', function(){
      localStorage.removeItem('loggedIn');
      localStorage.removeItem('username');
      window.location.href = 'index.html';
    });

    document.getElementById('demoForm').addEventListener('submit', function(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const status = document.getElementById('status');
      if (!name) { status.textContent = 'Please enter your name.'; return; }
      status.textContent = 'Submitting...';
      setTimeout(()=>{ status.textContent = 'Thanks, ' + name + '! Your message was received (demo).'; }, 700);
    });
  </script>
</body>
</html>
